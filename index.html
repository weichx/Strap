<!DOCTYPE html>
<html>
<head>
    <title></title>
    <link rel="stylesheet" href="lib/qunit-1.14.0.css"/>
</head>
<body>
<div id="qunit"></div>
<div id="qunit-fixture"></div>
<script src="lib/qunit-1.14.0.js"></script>

<!-- Compiler --->
<script src="strap/type_data.js"></script>
<script src="strap/type_compiler.js"></script>

<!-- Basic Strap Code -->
<script src="strap/strap.js"></script>

<!--- Pipeline Steps --->
<script src="strap/pipeline_steps/pipeline_step.js"></script>
<script src="strap/pipeline_steps/static.js"></script>
<script src="strap/pipeline_steps/constructor.js"></script>
<script src="strap/pipeline_steps/parent.js"></script>
<script src="strap/pipeline_steps/mixin.js"></script>
<script src="strap/pipeline_steps/before_and_after.js"></script>

<!-- User Pipeline Steps --->

<!-- User Classes --->

<script>

Strap.configure({
    //ignoreStrapNamespace: true
});

Strap.defineClass('Book', function() {
    this.attr('title');
    this.attr('author');

    this.before('test', function() {
        console.log('calling before test');
    });

    this.before('test', function(arg0, arg1) {
        console.log('calling before test #2', arg0, arg1);
    });

    this.before('other', function() {
        console.log('before other');
    });

    this.after('test', function() {
        console.log('test was called');
    });

    this.init(function(title, author){
        this.title = title;
        this.author = author;
    });

    this.fn('test', function(arg0, arg1) {
        console.log('calling test', arg0, arg1);
    });

    this.fn('other', function() {
        console.log('calling other');
    });

    this.after('test', 'other');
});

Strap.defineClass('GoodBook : Book', function() {
   this.attr('someAttr');
});

Strap.defineClass('BetterBook : Book', function() {
    this.attr('some_other');
    this.fn('super_before', function(){
        console.log("SUPER");
    });
    this.before('test', function() {
        console.log('SUPER');
    });
    this.after('test', function() {
        console.log('SUPER');
    })
});

//TypeCompiler.defineClass(window, 'GoodBook', window, 'Book', function(){
//    this.attr('meow');
//});

</script>
<!-- App Code --->

</body>
</html>